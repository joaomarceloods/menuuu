<%= turbo_frame_tag menu_section do %>
  <%= form_with \
        model: menu_section,
        url: [:private, menu_section],
        data: {
          controller: 'menu-item-edit-form',
          action: 'input->menu-item-edit-form#input keypress.enter->menu-item-edit-form#keypressEnter:prevent',
        } do |form| %>

    <%= form.text_field \
          :name,
          autocomplete: :off,
          placeholder: :name,
          enterkeyhint: :next,
          class: class_names(error: form.object.errors.has_key?(:name)),
          style: "font-size: 1.5em",
          data: { menu_section_edit_form_target: 'nameInput' } %>
  <% end %>

  <% if menu_section.persisted? %>
    <%= link_to 'Remove', [:private, menu_section], data: { turbo_method: :delete, turbo_confirm: "Remove the \"#{menu_section.name}\" section and ALL its items? This is irreversible." } %>
    <%= button_to "Add item", private_menu_items_path(menu_item: { menu_section_id: menu_section.id, position: 1 }), data: { turbo_frame: :list } %>
  <% end %>

  <br/>
  <br/>
<% end %>
